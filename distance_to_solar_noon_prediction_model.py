# -*- coding: utf-8 -*-
"""Distance to Solar Noon_prediction_model.ipynb

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/13znMH3vvUjARFhSl7cA7CxzmHXECrvGJ
"""

import streamlit as st
import pandas as pd
import joblib

model = joblib.load("Distance to Solar Noon_prediction_model.pkl")

st.title("Solar Power Prediction App")
st.write("Predict Distance to Solar Noon")

st.subheader("Enter Input Values")


day_of_year = st.number_input("Day of Year", 1, 366)
year = st.number_input("Year", 2000, 2100)
month = st.number_input("Month", 1, 12)
day = st.number_input("Day", 1, 31)

first_hour = st.number_input("First Hour of Period", 0, 23)

is_daylight = st.selectbox("Is Daylight", encoder["Is Daylight"].classes_)

avg_temp = st.number_input("Average Temperature (Day)")
avg_wind_dir = st.number_input("Average Wind Direction (Day)")
avg_wind_speed_day = st.number_input("Average Wind Speed (Day)")
sky_cover = st.number_input("Sky Cover")
visibility = st.number_input("Visibility")
rel_humidity = st.number_input("Relative Humidity")

avg_wind_speed_period = st.number_input("Average Wind Speed (Period)")
avg_pressure = st.number_input("Average Barometric Pressure (Period)")
power_generated = st.number_input("Power Generated")


df = pd.DataFrame({
    "Day of Year": [day_of_year],
    "Year": [year],
    "Month": [month],
    "Day": [day],
    "First Hour of Period": [first_hour],
    "Is Daylight": [is_daylight],
    "Average Temperature (Day)": [avg_temp],
    "Average Wind Direction (Day)": [avg_wind_dir],
    "Average Wind Speed (Day)": [avg_wind_speed_day],
    "Sky Cover": [sky_cover],
    "Visibility": [visibility],
    "Relative Humidity": [rel_humidity],
    "Average Wind Speed (Period)": [avg_wind_speed_period],
    "Average Barometric Pressure (Period)": [avg_pressure],
    "Power Generated": [power_generated]
})


for col in encoder:
    if col in df.columns:
        df[col] = encoder[col].transform(df[col])


if st.button("Predict"):
    prediction = model.predict(df)
    st.success(f"Predicted Distance to Solar Noon: {prediction[0]:.2f}")
